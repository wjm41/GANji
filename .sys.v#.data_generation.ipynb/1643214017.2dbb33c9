{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Imports"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "ename": "ModuleNotFoundError",
     "evalue": "No module named 'cv2'",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mModuleNotFoundError\u001b[0m                       Traceback (most recent call last)",
      "\u001b[0;32m/tmp/ipykernel_514/3900878719.py\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      5\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0mos\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      6\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0mshutil\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 7\u001b[0;31m \u001b[0;32mimport\u001b[0m \u001b[0mcv2\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      8\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      9\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0mrandom\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mModuleNotFoundError\u001b[0m: No module named 'cv2'"
     ]
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "\n",
    "import os\n",
    "import shutil\n",
    "import cv2\n",
    "\n",
    "import random\n",
    "import re\n",
    "import glob\n",
    "from PIL import Image,ImageDraw,ImageFont\n",
    "\n",
    "import ENVCONFIG"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Load annotated font .csv and define root directory containing google fonts repo"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "df = pd.read_csv('google-fonts-annotation.csv')\n",
    "\n",
    "# change your path here\n",
    "rds_dir = ENVCONFIG.rds_dir\n",
    "ROOT = rds_dir+'/fonts/ofl'"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "define font filtering & retrieval function"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "def filter_fonts_get_paths(df, root='./', variants=['_'], subsets=['_'], category=''):\n",
    "    # exceptions\n",
    "    if not variants or variants == [''] or variants == '': variants = ['_']\n",
    "    if not subsets or subsets == [''] or subsets == '': subsets = ['_']\n",
    "    # apply filters\n",
    "    regex_filters = variants + subsets + ['_'+category]\n",
    "    df_new = pd.concat([df.filter(regex=re.compile(regex, re.IGNORECASE), axis=1).sum(axis=1).astype(bool) for regex in regex_filters], axis=1)\n",
    "    mask = df_new.all(axis=1)\n",
    "    filtered_fontnames = list(df.loc[mask].family)\n",
    "    # construct file paths\n",
    "    paths = []\n",
    "    for fontname in filtered_fontnames:\n",
    "        if variants == ['_']: # select all variants\n",
    "            sel = glob.glob(f'{root}/{fontname.lower()}/**/**/**/*.ttf', recursive=True)\n",
    "            paths.extend(sel)\n",
    "        else:\n",
    "            for variant in variants:\n",
    "                sel = glob.glob(f'{root}/{fontname.lower()}/**/**/{fontname}-{variant}.ttf', recursive=True) \n",
    "                for path in sel:\n",
    "                    paths.append(path)\n",
    "    print(f'Found {len(paths)} font files.')\n",
    "    return paths"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Define font blacklist"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'/eos/home-d/drousso/SWAN_projects/Other/fonts/ofl/delagothicone/DelaGothicOne-Regular.ttf'"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "fontblacklist=[]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Create data for list of characters"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Found 90 font files.\n",
      "text w & h:  152 174\n",
      "-2 59 150 174\n",
      "text w & h:  150 187\n",
      "0 46 150 187\n",
      "text w & h:  150 195\n",
      "0 59 150 195\n",
      "text w & h:  150 184\n",
      "0 48 150 184\n",
      "text w & h:  151 186\n",
      "-1 47 150 186\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 183\n",
      "0 49 150 183\n",
      "text w & h:  151 186\n",
      "-1 47 150 186\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 183\n",
      "0 49 150 183\n",
      "text w & h:  151 186\n",
      "-1 47 150 186\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 183\n",
      "0 49 150 183\n",
      "text w & h:  151 186\n",
      "-1 47 150 186\n",
      "text w & h:  151 187\n",
      "-1 46 150 187\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 183\n",
      "0 49 150 183\n",
      "text w & h:  150 182\n",
      "0 53 150 182\n",
      "text w & h:  150 184\n",
      "0 52 150 184\n",
      "text w & h:  150 183\n",
      "0 52 150 183\n",
      "text w & h:  150 186\n",
      "0 57 150 186\n",
      "text w & h:  150 188\n",
      "0 54 150 188\n",
      "text w & h:  150 186\n",
      "0 53 150 186\n",
      "text w & h:  150 163\n",
      "0 28 150 163\n",
      "text w & h:  150 177\n",
      "0 39 150 177\n",
      "text w & h:  150 176\n",
      "0 40 150 176\n",
      "text w & h:  150 177\n",
      "0 39 150 177\n",
      "text w & h:  150 175\n",
      "0 41 150 175\n",
      "text w & h:  150 176\n",
      "0 40 150 176\n",
      "text w & h:  150 176\n",
      "0 40 150 176\n",
      "text w & h:  150 174\n",
      "0 42 150 174\n",
      "text w & h:  150 186\n",
      "0 53 150 186\n",
      "text w & h:  150 189\n",
      "0 46 150 189\n",
      "text w & h:  150 189\n",
      "0 46 150 189\n",
      "text w & h:  150 186\n",
      "0 54 150 186\n",
      "text w & h:  150 189\n",
      "0 51 150 189\n",
      "text w & h:  75 174\n",
      "0 76 75 174\n",
      "text w & h:  150 179\n",
      "0 55 150 179\n",
      "text w & h:  150 186\n",
      "0 48 150 186\n",
      "text w & h:  150 196\n",
      "0 50 150 196\n",
      "text w & h:  150 186\n",
      "0 50 150 186\n",
      "text w & h:  150 179\n",
      "0 55 150 179\n",
      "text w & h:  150 186\n",
      "0 50 150 186\n",
      "text w & h:  150 177\n",
      "0 41 150 177\n",
      "text w & h:  150 171\n",
      "0 35 150 171\n",
      "text w & h:  150 187\n",
      "0 47 150 187\n",
      "text w & h:  150 187\n",
      "0 47 150 187\n",
      "text w & h:  150 187\n",
      "0 46 150 187\n",
      "text w & h:  150 187\n",
      "0 46 150 187\n",
      "text w & h:  150 186\n",
      "0 47 150 186\n",
      "text w & h:  150 186\n",
      "0 48 150 186\n",
      "text w & h:  150 187\n",
      "0 47 150 187\n",
      "text w & h:  150 188\n",
      "0 46 150 188\n",
      "text w & h:  150 188\n",
      "0 46 150 188\n",
      "text w & h:  150 187\n",
      "0 48 150 187\n",
      "text w & h:  150 186\n",
      "0 48 150 186\n",
      "text w & h:  150 187\n",
      "0 48 150 187\n",
      "text w & h:  150 179\n",
      "0 55 150 179\n",
      "text w & h:  150 183\n",
      "0 55 150 183\n",
      "text w & h:  150 186\n",
      "0 50 150 186\n",
      "text w & h:  150 184\n",
      "0 56 150 184\n",
      "text w & h:  150 184\n",
      "0 57 150 184\n",
      "text w & h:  75 174\n",
      "0 44 75 174\n",
      "text w & h:  75 174\n",
      "0 44 75 174\n",
      "text w & h:  150 184\n",
      "0 57 150 184\n",
      "text w & h:  150 184\n",
      "0 57 150 184\n",
      "text w & h:  150 183\n",
      "0 50 150 183\n",
      "text w & h:  149 185\n",
      "0 49 149 185\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 185\n",
      "0 48 150 185\n",
      "text w & h:  150 185\n",
      "0 48 150 185\n",
      "text w & h:  150 185\n",
      "0 48 150 185\n",
      "text w & h:  150 185\n",
      "0 48 150 185\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 185\n",
      "0 48 150 185\n",
      "text w & h:  150 185\n",
      "0 48 150 185\n",
      "text w & h:  150 185\n",
      "0 48 150 185\n",
      "text w & h:  150 185\n",
      "0 48 150 185\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 185\n",
      "0 47 150 185\n",
      "text w & h:  150 187\n",
      "0 46 150 187\n",
      "text w & h:  150 187\n",
      "0 46 150 187\n",
      "text w & h:  150 187\n",
      "0 47 150 187\n",
      "text w & h:  150 187\n",
      "0 47 150 187\n",
      "text w & h:  150 187\n",
      "0 47 150 187\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n",
      "text w & h:  150 185\n",
      "0 49 150 185\n"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 720x720 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    },
    {
     "data": {
      "image/png": "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oJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqCR4AoJ7gAQDqzebz+dQzAABcVc7wAAD1BA8AUE/wAAD1BA8AUE/wAAD1BA8AUO9/AKpx8FAls7+gAAAAAElFTkSuQmCC\n",
      "text/plain": [
       "<Figure size 720x720 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "characters=[\"福\"]\n",
    "characters=[\"福\",\"新\",\"年\",\"快\",\"樂\",\"身\",\"體\",\"健\",\"康\",\"心\",\"想\",\"事\",\"成\"]\n",
    "IMG_WIDTH = 300\n",
    "IMG_HEIGHT = 300\n",
    "text_size = 150\n",
    "\n",
    "maxplotstoshow=1\n",
    "\n",
    "paths = filter_fonts_get_paths(df, root=ROOT, subsets=['japanese'], variants=['_'], category='')\n",
    "for text in characters:\n",
    "    characterfolder=os.path.join('data',text)\n",
    "    shutil.rmtree(characterfolder)\n",
    "    try:\n",
    "        os.mkdir(characterfolder)\n",
    "    except:\n",
    "        pass\n",
    "    \n",
    "    \n",
    "    for r in range(len(paths)):\n",
    "        # sample text and font\n",
    "\n",
    "        fontname=os.path.basename(paths[r]).split('.tff')[0] \n",
    "        if fontname in fontblacklist:\n",
    "            continue\n",
    "            \n",
    "        font = ImageFont.truetype(paths[r], text_size)\n",
    "\n",
    "        # # get text info (not being used but may be useful)\n",
    "        text_width, text_height = font.getsize(text)\n",
    "        left, top, right, bottom = font.getbbox(text)\n",
    "        print('text w & h: ', text_width, text_height)\n",
    "        print(left, top, right, bottom)\n",
    "\n",
    "\n",
    "\n",
    "        x = (right-left) # we can adjust this according to IMG_WIDTH etc\n",
    "        y = 150+(bottom-top)/2\n",
    "\n",
    "        # create a blank canvas with extra space between lines\n",
    "        canvas = Image.new('RGB', (IMG_WIDTH, IMG_HEIGHT), \"red\")\n",
    "\n",
    "        # draw the text onto the text canvas\n",
    "        draw = ImageDraw.Draw(canvas)\n",
    "        draw.text((x, y), text, 'black', font, anchor='ms')\n",
    "\n",
    "        fig = plt.figure(figsize=(10,10))\n",
    "        plt.imshow(canvas, aspect='auto')\n",
    "        plt.axis('off')\n",
    "        \n",
    "        filename = os.path.join(characterfolder,fontname+'.jpg')\n",
    "        plt.savefig(filename)\n",
    "        #plt.title(fontname)\n",
    "        # plt.imsave(filename, canvas, cmap='gray')\n",
    "        # plt.imsave(filename, canvas)\n",
    "        if r>maxplotstoshow:\n",
    "            plt.close()\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Check images:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "ename": "NameError",
     "evalue": "name 'cv2' is not defined",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)",
      "\u001b[0;32m/tmp/ipykernel_514/353544590.py\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m     11\u001b[0m     \u001b[0;32mreturn\u001b[0m \u001b[0mimages\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     12\u001b[0m \u001b[0mfoldertocheck\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mos\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mpath\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mjoin\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m'data'\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0mcharactertocheck\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 13\u001b[0;31m \u001b[0mimages\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mload_images_from_folder\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfoldertocheck\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m",
      "\u001b[0;32m/tmp/ipykernel_514/353544590.py\u001b[0m in \u001b[0;36mload_images_from_folder\u001b[0;34m(folder)\u001b[0m\n\u001b[1;32m      6\u001b[0m     \u001b[0mimages\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      7\u001b[0m     \u001b[0;32mfor\u001b[0m \u001b[0mfilename\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mos\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlistdir\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfolder\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 8\u001b[0;31m         \u001b[0mimg\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mcv2\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mimread\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mos\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mpath\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mjoin\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfolder\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0mfilename\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      9\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0mimg\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mnot\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     10\u001b[0m             \u001b[0mimages\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mappend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mimg\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mNameError\u001b[0m: name 'cv2' is not defined"
     ]
    }
   ],
   "source": [
    "charactertocheck=\"福\"\n",
    "\n",
    "\n",
    "\n",
    "def load_images_from_folder(folder):\n",
    "    images = []\n",
    "    for filename in os.listdir(folder):\n",
    "        img = cv2.imread(os.path.join(folder,filename))\n",
    "        if img is not None:\n",
    "            images.append(img)\n",
    "    return images\n",
    "foldertocheck=os.path.join('data',charactertocheck)\n",
    "images=load_images_from_folder(foldertocheck)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "images"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "ename": "FileNotFoundError",
     "evalue": "[Errno 2] No such file or directory: 'example0.jpg'",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mFileNotFoundError\u001b[0m                         Traceback (most recent call last)",
      "\u001b[0;32m/tmp/ipykernel_514/2609153043.py\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m     17\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     18\u001b[0m \u001b[0;32mfor\u001b[0m \u001b[0mfile\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mimages\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 19\u001b[0;31m     \u001b[0mprocess\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfile\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m",
      "\u001b[0;32m/tmp/ipykernel_514/2609153043.py\u001b[0m in \u001b[0;36mprocess\u001b[0;34m(filename)\u001b[0m\n\u001b[1;32m     11\u001b[0m         \u001b[0mfilename\u001b[0m\u001b[0;34m:\u001b[0m \u001b[0mstr\u001b[0m \u001b[0;34m-\u001b[0m \u001b[0mpath\u001b[0m \u001b[0mto\u001b[0m \u001b[0mfilename\u001b[0m \u001b[0mcontaining\u001b[0m \u001b[0mimage\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     12\u001b[0m     \"\"\"\n\u001b[0;32m---> 13\u001b[0;31m     \u001b[0mimage\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mmpimg\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mimread\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfilename\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     14\u001b[0m     \u001b[0;31m# <something gets done here>\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     15\u001b[0m     \u001b[0mplt\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mfigure\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/cvmfs/sft.cern.ch/lcg/views/LCG_101swan/x86_64-centos7-gcc8-opt/lib/python3.9/site-packages/matplotlib/image.py\u001b[0m in \u001b[0;36mimread\u001b[0;34m(fname, format)\u001b[0m\n\u001b[1;32m   1499\u001b[0m                     \u001b[0mresponse\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mio\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mBytesIO\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mresponse\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mread\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1500\u001b[0m                 \u001b[0;32mreturn\u001b[0m \u001b[0mimread\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mresponse\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mformat\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mext\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 1501\u001b[0;31m     \u001b[0;32mwith\u001b[0m \u001b[0mimg_open\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfname\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mas\u001b[0m \u001b[0mimage\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   1502\u001b[0m         return (_pil_png_to_float_array(image)\n\u001b[1;32m   1503\u001b[0m                 \u001b[0;32mif\u001b[0m \u001b[0misinstance\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mimage\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mPIL\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mPngImagePlugin\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mPngImageFile\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32melse\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/cvmfs/sft.cern.ch/lcg/views/LCG_101swan/x86_64-centos7-gcc8-opt/lib/python3.9/site-packages/PIL/Image.py\u001b[0m in \u001b[0;36mopen\u001b[0;34m(fp, mode, formats)\u001b[0m\n\u001b[1;32m   2910\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   2911\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0mfilename\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 2912\u001b[0;31m         \u001b[0mfp\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mbuiltins\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mopen\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfilename\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m\"rb\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   2913\u001b[0m         \u001b[0mexclusive_fp\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;32mTrue\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   2914\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mFileNotFoundError\u001b[0m: [Errno 2] No such file or directory: 'example0.jpg'"
     ]
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "import matplotlib.image as mpimg\n",
    "\n",
    "images=os.listdir(os.path.join('data',charactertocheck))\n",
    "\n",
    "def process(filename: str=None) -> None:\n",
    "    \"\"\"\n",
    "    View multiple images stored in files, stacking vertically\n",
    "\n",
    "    Arguments:\n",
    "        filename: str - path to filename containing image\n",
    "    \"\"\"\n",
    "    image = mpimg.imread(filename)\n",
    "    # <something gets done here>\n",
    "    plt.figure()\n",
    "    plt.imshow(image)\n",
    "\n",
    "for file in images:\n",
    "    process(file)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'d'"
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "file"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "['example0.jpg',\n",
       " 'example1.jpg',\n",
       " 'example10.jpg',\n",
       " 'example11.jpg',\n",
       " 'example12.jpg',\n",
       " 'example13.jpg',\n",
       " 'example14.jpg',\n",
       " 'example15.jpg',\n",
       " 'example16.jpg',\n",
       " 'example17.jpg',\n",
       " 'example18.jpg',\n",
       " 'example19.jpg',\n",
       " 'example2.jpg',\n",
       " 'example20.jpg',\n",
       " 'example21.jpg',\n",
       " 'example22.jpg',\n",
       " 'example23.jpg',\n",
       " 'example24.jpg',\n",
       " 'example25.jpg',\n",
       " 'example26.jpg',\n",
       " 'example27.jpg',\n",
       " 'example28.jpg',\n",
       " 'example29.jpg',\n",
       " 'example3.jpg',\n",
       " 'example30.jpg',\n",
       " 'example31.jpg',\n",
       " 'example32.jpg',\n",
       " 'example33.jpg',\n",
       " 'example34.jpg',\n",
       " 'example35.jpg',\n",
       " 'example36.jpg',\n",
       " 'example37.jpg',\n",
       " 'example38.jpg',\n",
       " 'example39.jpg',\n",
       " 'example4.jpg',\n",
       " 'example40.jpg',\n",
       " 'example41.jpg',\n",
       " 'example42.jpg',\n",
       " 'example43.jpg',\n",
       " 'example44.jpg',\n",
       " 'example45.jpg',\n",
       " 'example46.jpg',\n",
       " 'example47.jpg',\n",
       " 'example48.jpg',\n",
       " 'example49.jpg',\n",
       " 'example5.jpg',\n",
       " 'example50.jpg',\n",
       " 'example51.jpg',\n",
       " 'example52.jpg',\n",
       " 'example53.jpg',\n",
       " 'example54.jpg',\n",
       " 'example55.jpg',\n",
       " 'example56.jpg',\n",
       " 'example57.jpg',\n",
       " 'example58.jpg',\n",
       " 'example59.jpg',\n",
       " 'example6.jpg',\n",
       " 'example60.jpg',\n",
       " 'example61.jpg',\n",
       " 'example62.jpg',\n",
       " 'example63.jpg',\n",
       " 'example64.jpg',\n",
       " 'example65.jpg',\n",
       " 'example66.jpg',\n",
       " 'example67.jpg',\n",
       " 'example68.jpg',\n",
       " 'example69.jpg',\n",
       " 'example7.jpg',\n",
       " 'example70.jpg',\n",
       " 'example71.jpg',\n",
       " 'example72.jpg',\n",
       " 'example73.jpg',\n",
       " 'example74.jpg',\n",
       " 'example75.jpg',\n",
       " 'example76.jpg',\n",
       " 'example77.jpg',\n",
       " 'example78.jpg',\n",
       " 'example79.jpg',\n",
       " 'example8.jpg',\n",
       " 'example80.jpg',\n",
       " 'example81.jpg',\n",
       " 'example82.jpg',\n",
       " 'example83.jpg',\n",
       " 'example84.jpg',\n",
       " 'example85.jpg',\n",
       " 'example86.jpg',\n",
       " 'example87.jpg',\n",
       " 'example88.jpg',\n",
       " 'example89.jpg',\n",
       " 'example9.jpg']"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "os.listdir(os.path.join('data',charactertocheck))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "interpreter": {
   "hash": "7367a18b348ca6007dd30e14cd00de3b4d55612a2acbb3a217e58adb00f48737"
  },
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.9.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
